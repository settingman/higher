<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chat Room</title>
<!-- Latest minified Bootstrap & JQuery-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script src="https://kit.fontawesome.com/c2edef0625.js" crossorigin="anonymous"></script>
<!-- Custom styles for this template -->
<style>
.btn.active {
	display: none;
}

.btn span:nth-of-type(1) {
	display: none;
}

.btn span:last-child {
	display: block;
}

.btn.active span:nth-of-type(1) {
	display: block;
}

.btn.active span:last-child {
	display: none;
}
</style>
<link rel="stylesheet" type="text/css" href="/css/rtc/main.css" />
</head>
<body class="text-center">

	<!-- Begin page content -->
	<main role="main" class="container-fluid">
		<h1>현대 온라인 뷰티</h1>
		<input type="hidden" id="id" name="id" th:value="${room.roomId}" />
		<input type="hidden" id="uuid" name="uuid" th:value="${uuid}">
		<div class="col-lg-12 mb-3">
			<div class="mb-3" th:text=" '@ Room #' + ${room.roomName}">Local User Id</div>
			<div class="col-lg-12 mb-3">
				<div class="d-flex justify-content-around mb-3">
					<div id="buttons" class="row">
						<div class="btn-group mr-2" role="group">
							<div class="mr-2" data-toggle="buttons">

								<label class="btn btn-outline-success" id="video_off"> <input type="radio" name="options" style="display: none" autocomplete="off">
									<i class="fa-solid fa-video fa-xl"></i>
								</label> <label class="btn btn-outline-warning active" id="video_on"> <input type="radio" name="options" style="display: none"
										autocomplete="off" checked
									><i class="fa-solid fa-video-slash fa-xl"></i>
								</label>
							</div>
							<div class="mr-2" data-toggle="buttons">
								<label class="btn btn-outline-success" id="audio_off"> <input type="radio" name="options" style="display: none" autocomplete="off">
									<i class="fa-solid fa-microphone fa-xl"></i>
								</label> <label class="btn btn-outline-warning active" id="audio_on"> <input type="radio" name="options" style="display: none"
										autocomplete="off" checked
									><i class="fa-solid fa-microphone-slash fa-xl"></i>
								</label>
							</div>
							<div class="mr-2" data-toggle="buttons">
								<label class="btn btn-outline-success" id="view_on"> <input type="radio" name="options" style="display: none" autocomplete="off"><i
									class="fa-solid fa-display fa-xl"
								></i>
								</label> <label class="btn btn-outline-warning active" id="view_off"> <input type="radio" name="options" style="display: none"
										autocomplete="off"
									><i class="fa-solid fa-spinner fa-spin fa-xl"></i>
								</label>
							</div>
						</div>

						<a href="/">
							<button type="button" class="btn btn-outline-danger" id="exit" name="exit">
								<i class="fa-solid fa-phone-slash fa-xl"></i>
							</button>
						</a>
					</div>
				</div>
			</div>

			<div class="row justify-content-around mb-3">
				<div class="col-lg-6 mb-3 ">
					<video id="local_video" autoplay playsinline></video>
				</div>

				<div class="col-lg-6 mb-3 container2">

					<video id="remote_video" poster="/video_loading.png" autoplay playsinline>


					</video>

				</div>
				<div class="col-lg-6 mb-3">
					<video id="share-video" autoplay=""></video>
				</div>
			</div>

		</div>
	</main>

	<script src="/js/rtc/webrtc_client.js"></script>

	<style>
.container {
	width: 100vw;
	height: 80vh;
	background: pink;
	marin: 0px;
}

#local_video {
	width: 100vw;
	height: 100%;
}

video[poster] {
	/* 포스터 이미지의 크기를 비디오 영상에 꽉차도록 */
	height: 50px;
	width: 50px;
}

#remote_video {
	width: 100vw;
	height: 100%;
}

.container22 {
	width: 100vw;
	height: 50vh;
	background: blue;
}
</style>


	<script>
	
	// 전체화면 기능 .
	const enterFullscreenBtn = document.querySelector('.enterFullscreenBtn')
	const exitFullscreenBtn = document.querySelector('.exitFullscreenBtn')
	const toggleFullscreenBtn = document.querySelector('.toggleFullscreenBtn')
	
	const container = document.querySelector('.container');

	enterFullscreenBtn.addEventListener('click', e => {
	  fullscreen(container)
	})

	exitFullscreenBtn.addEventListener('click', e => {
	  exitFullScreen()
	})

	toggleFullscreenBtn.addEventListener('click', e => {
	  toggleFullScreen(container)
	})

	const fullscreen = element => {
	  if (element.requestFullscreen) return element.requestFullscreen()
	  if (element.webkitRequestFullscreen) return element.webkitRequestFullscreen()
	  if (element.mozRequestFullScreen) return element.mozRequestFullScreen()
	  if (element.msRequestFullscreen) return element.msRequestFullscreen()
	}

	const exitFullScreen = () => {
	  if (document.exitFullscreen) return document.exitFullscreen()
	  if (document.webkitCancelFullscreen) return document.webkitCancelFullscreen()
	  if (document.mozCancelFullScreen) return document.mozCancelFullScreen()
	  if (document.msExitFullscreen) return document.msExitFullscreen()
	}

	function toggleFullScreen(element) {
	  if (!document.fullscreenElement) {
	    if (element.requestFullscreen) return element.requestFullscreen()
	    if (element.webkitRequestFullscreen)
	      return element.webkitRequestFullscreen()
	    if (element.mozRequestFullScreen) return element.mozRequestFullScreen()
	    if (element.msRequestFullscreen) return element.msRequestFullscreen()
	  } else {
	    if (document.exitFullscreen) return document.exitFullscreen()
	    if (document.webkitCancelFullscreen)
	      return document.webkitCancelFullscreen()
	    if (document.mozCancelFullScreen) return document.mozCancelFullScreen()
	    if (document.msExitFullscreen) return document.msExitFullscreen()
	  }
	}
	
	
	
	
	</script>
</body>
</html>