<script>
	$(function() {
		// í—¤ë” ì¹´í…Œê³ ë¦¬
		$.ajax({
			url : '/category/cateAll',
			type : 'GET',
			success : function(r) {
				console.log(r);

				// mbti
				let mbti = r.mbtiDTO;
				let mbtiDTag = '';
				for (let i = 0; i < 8; i++) {
					mbtiDTag += `<a href="/product/list?mbti=` + mbti[i].stype
							+ `">` + mbti[i].stype + `</a>`;
				}
				$('#mbti_d').html(mbtiDTag);
				let mbtiOTag = '';
				for (let i = 8; i < 16; i++) {
					mbtiOTag += `<a href="/product/list?mbti=` + mbti[i].stype
							+ `">` + mbti[i].stype + `</a>`;
				}
				$('#mbti_o').html(mbtiOTag);

				// ìŠ¤í‚¨ì¼€ì–´ - ì¤‘ë¶„ë¥˜
				let skin = r.skinDTO;
				let skinTag = `<a href="/product/list?dept1=10">ì „ì²´</a>`;
				$.each(skin, function(idx, item) {
					skinTag += `<a href="/product/list?dept1=10&dept2=`
							+ item.dept2no + `">` + item.dept2name + `</a>`;
				});
				$('#cateSkin').html(skinTag);

				// ìŠ¤í‚¨ì¼€ì–´ - ë¸Œëœë“œ
				let skinBrand = r.skinBrandDTO;
				let skinBrandTag1 = `<a href="/product/list?dept1=10">ì „ì²´</a>`;
				let skinBrandTag2 = ``;
				$.each(skinBrand, function(idx, item) {
					if (idx < 9) {
						skinBrandTag1 += `<a href="/product/list?dept1=10&bno=`
								+ item.bno + `">` + item.bname + `</a>`;
					} else if (idx > 10 && idx <= 20) {
						skinBrandTag2 += `<a href="/product/list?dept1=10&bno=`
								+ item.bno + `">` + item.bname + `</a>`;
					}
				});
				$('#cateSkinBrand1').html(skinBrandTag1);
				$('#cateSkinBrand2').html(skinBrandTag2);

				// ë©”ì´í¬ì—… - ì¤‘ë¶„ë¥˜
				let make = r.makeDTO;
				let makeTag = `<a href="/product/list?dept1=20">ì „ì²´</a>`;
				$.each(make, function(idx, item) {
					makeTag += `<a href="/product/list?dept1=20&dept2=`
							+ item.dept2no + `">` + item.dept2name + `</a>`;
				});
				$('#cateMake').html(makeTag);

				// ë©”ì´í¬ì—… - ë¸Œëœë“œ
				let makeBrand = r.makeBrandDTO;
				let makeBrandTag1 = `<a href="/product/list?dept1=20">ì „ì²´</a>`;
				let makeBrandTag2 = ``;
				$.each(makeBrand, function(idx, item) {
					if (idx < 9) {
						makeBrandTag1 += `<a href="/product/list?dept1=20&bno=`
								+ item.bno + `">` + item.bname + `</a>`;
					} else if (idx > 10 && idx <= 20) {
						makeBrandTag2 += `<a href="/product/list?dept1=20&bno=`
								+ item.bno + `">` + item.bname + `</a>`;
					}
				});
				$('#cateMakeBrand1').html(makeBrandTag1);
				$("#cateMakeBrand2").html(makeBrandTag2);

				// ë°”ë””/í—¤ì–´ - ì¤‘ë¶„ë¥˜
				let body = r.bodyDTO;
				let bodyTag = `<a href="/product/list?dept1=30">ì „ì²´</a>`;
				$.each(body, function(idx, item) {
					bodyTag += `<a href="/product/list?dept1=30&dept2=`
							+ item.dept2no + `">` + item.dept2name + `</a>`;
				});
				$('#cateBody').html(bodyTag);

				// ë°”ë””/í—¤ì–´ - ë¸Œëœë“œ
				let bodyBrand = r.bodyBrandDTO;
				let bodyBrandTag1 = `<a href="/product/list?dept1=30">ì „ì²´</a>`;
				let bodyBrandTag2 = ``;
				$.each(bodyBrand, function(idx, item) {
					if (idx < 9) {
						bodyBrandTag1 += `<a href="/product/list?dept1=30&bno=`
								+ item.bno + `">` + item.bname + `</a>`;
					} else if (idx > 10 && idx <= 20) {
						bodyBrandTag2 += `<a href="/product/list?dept1=30&bno=`
								+ item.bno + `">` + item.bname + `</a>`;
					}
				});
				$('#cateBodyBrand1').html(bodyBrandTag1);
				$("#cateBodyBrand2").html(bodyBrandTag2);

			},
			error : function(e) {
				console.log(e);
			}
		});

	});
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
	$(document).ready(function() {

		if (document.querySelector('.top_nav .myinfo') !== null) { //ë¡œê·¸ì¸í•œ íšŒì›
			console.log("ë¡œê·¸ì¸í•œ íšŒì›");
			afteradd();
		} else {
			console.log("ë¹„íšŒì›");
		}

	});
</script>
<script>
	function afteradd() {
		$.ajax({
			url : "/restcart/count",
			type : "GET",
			success : function(count) {
				console.log("ì¥ë°”êµ¬ë‹ˆ ê°œìˆ˜ " + count);
				$(".cart-count").text(count);
			},
			error : function(e) {
				console.log(e);
			}
		});
	}
</script>
<h1 onclick="location.href='/';">The Hyundai Beauty</h1>
<section class="top_nav">
	<nav>
		<ul>
			<!-- <li sec:authentication="principal"></li> -->
			<!-- ë¡œê·¸ì¸ ì „ -->
			<li sec:authorize="isAnonymous()"><a href="/member/login">ë¡œê·¸ì¸</a></li>
			<li sec:authorize="isAnonymous()"><a href="/member/jointotal">íšŒì›ê°€ì…</a></li>
			<!-- //ë¡œê·¸ì¸ í›„ -->
			<li sec:authorize="isAuthenticated()"><a sec:authorize="hasRole('ADMIN')" href="/rtc/room">ê´€ë¦¬ì í˜ì´ì§€</a></li>
			<li sec:authorize="isAuthenticated()" class="myinfo"><a href="/mypage/reserv"><strong sec:authentication="principal.mName">íšŒì›ì´ë¦„</strong> ë‹˜
					<i></i></a>
				<div id="myinfo_layer">
					<dl style="margin-bottom: 0">
						<dt>
							<span class="text_ellipsis" style="max-width: 75px;" sec:authentication="principal.mName">íšŒì›ì´ë¦„</span> ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!
						</dt>
						<dd>
							<ul>
								<li><a href="/mypage/reserv">MY Make-ON</a></li>
								<li><a href="/mypage/skinmbti">MY í”¼ë¶€ MBTI</a></li>
								<li><a href="/shop/orderlist">MY ì£¼ë¬¸</a></li>
							</ul>
						</dd>
					</dl>
				</div></li>
			<li sec:authorize="isAuthenticated()"><a href="/member/logout">ë¡œê·¸ì•„ì›ƒ</a></li>
			<li><a href="/shop/orderlist">ì£¼ë¬¸ ì¡°íšŒ</a></li>
		</ul>

	</nav>
</section>
<section class="cf_side">
	<div class="campain">
		<a href="#campain_banner" class="btn_campain">ë¯¼ê°ì„± í”¼ë¶€ì˜ ì‚¶ì„ ë°”ê¾¸ëŠ” ë¼ë¡œìŠˆí¬ì œ</a>
		<!-- ìº í˜ì¸ ë°°ë„ˆ  -->
		<div id="campain_banner"></div>
		<!-- //ìº í˜ì¸ ë°°ë„ˆ  -->
	</div>
	<div class="fastinfo">
		<!-- 	<form id="headerSearchForm"> -->
		<div class="search_cart">
			<div class="search_faq">
				<input type="hidden" value="182" name="seq">
				<input type="hidden" value="SHA001" name="hitType">
				<input type="search" title="ê²€ìƒ‰ ì…ë ¥ì°½" name="topSearchKeyword" placeholder="ìœ ë¹„ë°ì•„ë¡œ ì´‰ì´‰í•˜ê²Œ í†¤ì—…" maxlength="20">
				<button type="button" onclick="topSearchEvent();">
					<span>ê²€ìƒ‰</span>
				</button>
			</div>
			<a href="/shop/mycart" class="btn-cart"><span class="hide">ì¥ë°”êµ¬ë‹ˆ</span><span class="cart-count">0</span></a>
		</div>
		<!-- </form> -->
		<div class="hashtag" style="display: block-inline; width: 308px; height: 20px; overflow: hidden;">
			<div style="float: left; white-space: nowrap; padding: 0px 308px;">
				<div style="float: left; white-space: nowrap; padding: 0px 308px;">
					<div style="float: left; white-space: nowrap; padding: 0px 308px;">
						<div style="float: left; white-space: nowrap; padding: 0px 308px;">
							<a href="#none" onclick="goKey('ì „ í’ˆëª© 20% OFF!'); return false;">#ì „ í’ˆëª© 20% OFF!</a> <a href="#none"
								onclick="goKey('ì‹ ì œí’ˆ ë¬´ë£Œ ì²´í—˜ ì´ë²¤íŠ¸âœ¨'); return false;"
							>#ì‹ ì œí’ˆ ë¬´ë£Œ ì²´í—˜ ì´ë²¤íŠ¸âœ¨</a> <a href="#none" onclick="goKey('ì„¸íŠ¸ êµ¬ë§¤ ì‹œ ì¶”ê°€ ì¦ì •ğŸ'); return false;">#ì„¸íŠ¸ êµ¬ë§¤ ì‹œ ì¶”ê°€ ì¦ì •ğŸ</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<section class="gnb_nav">
	<nav>
		<ul class="left">
			<li class=""><a href="javascript:void(0);" data-depth="1"> <span>í”¼ë¶€íƒ€ì…</span> <em>MBTI TYPE</em>
			</a>
				<div class="sub_contain" style="opacity: 1; display: none;">
					<div class="submenu" style="margin-right: 0px;">
						<dl>
							<dt>
								<a href="#">MBTI ë³„</a>
							</dt>
							<dd id="mbti_d"></dd>
						</dl>
					</div>
					<div class="submenu" style="margin-left: 0px;">
						<dl style="margin-top: 16px;">
							<dt>
								<a href="#"></a>
							</dt>
							<dd id="mbti_o"></dd>
						</dl>
					</div>
					<div class="sub_contain_button">
						<button type="button" class="btn_base move" onclick="location.href='/product/list?dept1=10'">ì „ì²´ ì œí’ˆ ë³´ê¸°</button>
						<button type="button" class="btn_base move" onclick="location.href='/skinMBTI/selfConsult'">í”¼ë¶€ MBTI ì§„ë‹¨í•˜ê¸°</button>
					</div>

				</div></li>
			<li class=""><a href="/product/list?dept1=10" data-menu-name="ìŠ¤í‚¨ì¼€ì–´" data-depth="1"> <span>ìŠ¤í‚¨ì¼€ì–´</span> <em>FACE</em>
			</a>
				<div class="sub_contain" style="opacity: 1; display: none; min-height: 300px; width: 900px;">
					<div class="submenu">
						<dl style="margin: 0;">
							<dt>
								<a href="/product/list?dept1=10"> ìŠ¤í‚¨ì¼€ì–´</a>
							</dt>
							<dd id="cateSkin"></dd>
						</dl>
					</div>
					<div class="submenu" style="margin-right: 0px;">
						<dl style="margin: 0;">
							<dt>
								<a href="/product/list?dept1=10" data-depth="2">ë¸Œëœë“œë³„</a>
							</dt>
							<dd id="cateSkinBrand1"></dd>
						</dl>
					</div>
					<div class="submenu" style="margin-left: 0px;">
						<dl style="margin-top: 47px; margin-bottom: 0; padding-top: 0;">
							<dd id="cateSkinBrand2"></dd>
						</dl>
					</div>
					<div class="sub_contain_button">
						<button type="button" class="btn_base move" onclick="location.href='/product/list?dept1=10';">ì „ì²´ ì œí’ˆ ë³´ê¸°</button>
						<button type="button" class="btn_base move" onclick="location.href='/skinMBTI/selfConsult';">í”¼ë¶€ MBTI ì§„ë‹¨í•˜ê¸°</button>
					</div>
				</div></li>
			<li class=""><a href="/product/list?dept1=20"> <span>ë©”ì´í¬ì—…</span> <em>MAKE UP</em>
			</a>
				<div class="sub_contain" style="opacity: 1; display: none; min-height: 300px; width: 900px;">
					<div class="submenu">
						<dl style="margin: 0;">
							<dt>
								<a href="/product/list?dept1=20">ë©”ì´í¬ì—…</a>
							</dt>
							<dd id="cateMake"></dd>
						</dl>
					</div>

					<div class="submenu" style="margin-right: 0px;">
						<dl style="margin: 0;">
							<dt>
								<a href="/product/list?dept1=20">ë¸Œëœë“œë³„</a>
							</dt>
							<dd id="cateMakeBrand1"></dd>
						</dl>
					</div>
					<div class="submenu" style="margin-left: 0px;">
						<dl style="margin-top: 47px; margin-bottom: 0; padding-top: 0;">
							<dd id="cateMakeBrand2"></dd>
						</dl>
					</div>
					<div class="sub_contain_button">
						<button type="button" class="btn_base move" onclick="location.href='/product/list?dept1=20';">ì „ì²´ ì œí’ˆ ë³´ê¸°</button>
						<button type="button" class="btn_base move" onclick="location.href='/beauty/reserv';">ë©”ì´í¬ì—… ìƒë‹´ ì˜ˆì•½</button>
					</div>
				</div></li>
			<li class=""><a href="/product/list?dept1=30" data-menu-name="ë°”ë””/í—¤ì–´ì¼€ì–´" data-depth="1"> <span>ë°”ë””/í—¤ì–´ì¼€ì–´</span> <em>BODY/HAIR</em>
			</a>
				<div class="sub_contain" style="opacity: 1; display: none; min-height: 300px; width: 900px;">
					<div class="submenu">
						<dl>
							<dt>
								<a href="/product/list?dept1=30"> ë°”ë””/í—¤ì–´ì¼€ì–´</a>
							</dt>
							<dd id="cateBody"></dd>
						</dl>
					</div>
					<div class="submenu" style="margin-right: 0px;">
						<dl>
							<dt>
								<a href="/product/list?dept1=30" data-depth="2">ë¸Œëœë“œë³„</a>
							</dt>
							<dd id="cateBodyBrand1"></dd>
						</dl>
					</div>
					<div class="submenu" style="margin-left: 0px;">
						<dl style="margin-top: 16px;">
							<dt>
								<a href="javascript:void(0);" data-depth="2"></a>
							</dt>
							<dd id="cateBodyBrand2"></dd>
						</dl>
					</div>
					<div class="sub_contain_button">
						<button type="button" class="btn_base move" onclick="location.href='/product/list?dept1=30';">ì „ì²´ ì œí’ˆ ë³´ê¸°</button>
						<button type="button" class="btn_base move" onclick="location.href='/skinMBTI/selfConsult';">í”¼ë¶€ MBTI ì§„ë‹¨í•˜ê¸°</button>
					</div>
				</div></li>
		</ul>
		<ul class="right">
			<li class=""><a href="/skinMBTI/selfConsult"><i class="ico_new">NEW</i>í”¼ë¶€ MBTI</a>
				<div class="sub_contain" style="opacity: 1; display: none;">
					<div class="menu">
						<ul>
							<li><a href="/skinMBTI/selfConsult" data-depth="2">ì§„ë‹¨í•˜ê¸°</a></li>
							<li th:with="name=${#authentication.getPrincipal().mbti}" sec:authorize="isAuthenticated()" th:if="${mbti != null}"><a
								href="/skinMBTI/check_result" data-depth="2"
							>ê²°ê³¼ë³´ê¸°</a></li>
						</ul>
					</div>
				</div> <!-- //sub_contain --></li>
			<li class=""><a href="/beauty/reserv" style="font-family: 'notokr-medium'; color: #bfae90;"><i class="ico_new">NEW</i>MAKE-ON</a>
				<div class="sub_contain" style="opacity: 1; display: none;">
					<div class="menu">
						<ul>
							<li><a href="/beauty/reserv" data-depth="2">ì˜ˆì•½í•˜ê¸°</a></li>
							<li><a href="/mypage/reserv" data-depth="2">ì˜ˆì•½ í™•ì¸í•˜ê¸°</a></li>
						</ul>
					</div>
				</div> <!-- //sub_contain --></li>
			<li class=""><a sec:authorize="isAnonymous()" href="/match/main" data-depth="1"><span>ë§¤ì¹­í™”ì¥í’ˆ</span><em>MATCH IT</em></a> <a
				th:with="name=${#authentication.getPrincipal().mbti}" sec:authorize="isAuthenticated()" th:href="@{/match/main(mbti=${name})}" data-depth="1"
			><span>ë§¤ì¹­í™”ì¥í’ˆ</span><em>MATCH IT</em></a></li>
			<li class=""><a href="/product/compare" data-depth="1" class="sp-goal-457-c65-35-1627285161700"> <span><i class="ico"><img
							src="/common/image/basket.png" style="width: 24px; margin-bottom: 4px; margin-right: 3px;"
						></i>ìƒí’ˆ ë¹„êµí•¨</span><em>COMPARE IT</em>
			</a> <!-- //sub_contain --></li>
		</ul>
	</nav>
</section>

